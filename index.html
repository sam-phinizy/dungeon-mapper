<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DungeonMapper</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/konva@8.3.13/konva.min.js"></script>
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">DungeonMapper</a>
        </div>
    </nav>
    <div class="content">
        <div id="canvas-container" class="bg-secondary"></div>
        <div id="sidebar-resizer"></div>
        <div id="sidebar" class="bg-light">
          <div id="chat-messages" class="p-2"></div>
          <div id="chat-input-container" class="p-2">
            <textarea id="chat-input" class="form-control" placeholder="Type your message..." rows="3"></textarea>
          </div>
          <button id="chat-send" class="btn btn-primary m-2">Send</button>
        </div>
        <div id="floating-tools" class="floating-window">
            <div class="window-header window-title">Tools</div>
            <div class="window-content">
                <div class="btn-group" role="group">
                    <button id="penTool" class="btn btn-outline-secondary" title="Pen Tool"><i class="fi fi-rr-pencil"></i></button>
                    <button id="rectTool" class="btn btn-outline-secondary" title="Rectangle Tool"><i class="fi fi-rr-square"></i></button>
                    <button id="circleTool" class="btn btn-outline-secondary" title="Circle Tool"><i class="fi fi-rr-circle"></i></button>
                    <button id="lineTool" class="btn btn-outline-secondary" title="Line Tool"><i class="fi fi-rr-line-width"></i></button>
                    <button id="selectTool" class="btn btn-outline-secondary" title="Select Tool"><i class="fi fi-rr-cursor"></i></button>
                    <button id="doorTool" class="btn btn-outline-secondary" title="Door Tool"><i class="fi fi-rr-door-open"></i></button>
                    <button id="notesTool" class="btn btn-outline-secondary" title="Notes Tool"><i class="fi fi-rr-note"></i></button>
                    <button id="downloadTool" class="btn btn-outline-secondary" title="Download Canvas"><i class="fi fi-rr-download"></i></button>
                </div>
            </div>
        </div>
        <div id="note-editor" class="floating-window" style="display: none;">
            <div class="window-header window-title">Note</div>
            <div class="window-content">
                <textarea id="note-text" class="form-control mb-2" rows="4"></textarea>
                <button id="save-note" class="btn btn-primary me-2">Save</button>
                <button id="cancel-note" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
        <div id="note-popover" class="popover" style="display: none;"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="module" src="main.js"></script>
</body>
</html>
